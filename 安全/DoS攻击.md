## DoS 攻击

> DoS (Denial of Service) 拒绝服务: 造成远程服务器拒绝服务的行为被称为 DoS 攻击。目的是计算机或者网络无法提供正常的服务。

### 原理

利用 TCP 三次握手，伪造 ACK 数据包，希望 Server 重传某些数据包， Server 根据 TCP 重转机制，进行数据重传，攻击者利用 TCP 协议缺陷， 通过发送大亮的半连接请求，耗费 CPU 和内存资源

### 解决

 - 缩短 SYN Timeout 时间，及时将超时的请求丢弃，释放被占用的 CPU 和内存资源
 
 - 限制同时打开的 SYN 半连接的数目，关闭不必要的服务

 - 设置 SYN Cookie, 给每一个请求连接 IP 地址分配一个 Cookie。短时间内连续受到某个 IP 重复 SYN 报文，就确认受到攻击，并丢弃从这个 IP 地址来的包

### 最优解决

第三方法在防止该类问题上表现更好，同时可以在 Web 服务端采用分布式组网、负载均衡、提升系统容量等可靠措施，增强总体服务能力

### 图解

<img src="http://f.wetest.qq.com/gqop/20000/LabImage_badad85ba527582bb0c938c2fec9f399.jpg/0" >